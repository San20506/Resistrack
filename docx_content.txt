--- PRD ---
ResisTrack Product Requirements Document (PRD) AI-Powered Antimicrobial Resistance Risk Prediction & Infection Control Platform Team Name Curelytics Project Name ResisTrack Version 1.0 Event Impact-AI-Thon 2026 Date February 18, 2026 Status Draft — For Review 1. Product Overview ResisTrack is an AI-driven clinical intelligence platform designed to predict antimicrobial resistance (AMR) risk within hours of patient admission — well before traditional culture-based results are available (which take 48–120 hours). The platform ingests longitudinal Electronic Health Record (EHR) data, vital signs, lab trends, prior antibiotic exposure history, and unstructured clinical notes to produce real-time AMR risk scores and actionable recommendations for clinicians, pharmacy teams, and infection control staff. 1.1 Problem Context Hospitals globally rely on culture-based antimicrobial susceptibility testing, creating a 48–120 hour diagnostic gap during which clinicians are forced to prescribe broad-spectrum antibiotics without data. This drives inappropriate prescribing (>20%), accelerates multi-drug resistant organism (MDRO) spread, extends patient length of stay by 2–5 days, and costs hospitals tens of thousands of dollars per resistant infection. Over 1 million deaths per year are associated with drug-resistant infections (WHO/Lancet GRAM). 1.2 Product Vision Shift global healthcare from reactive antibiotic use to proactive precision stewardship — closing the diagnostic gap, reducing AMR mortality, and protecting hospital financial integrity. 2. Product Objectives & Success Metrics 2.1 Primary Objectives Predict AMR risk at or before 6 hours post-admission Reduce inappropriate antibiotic prescribing by ≥30% in pilot hospitals Reduce patient length of stay by ≥2.7 days for AMR-flagged cases Cut infection surveillance manual workload by ≥85% Identify hospital-wide infection trends ≥4 weeks earlier than current baseline 2.2 Key Performance Indicators AMR Prediction Sensitivity ≥ 85% (true positive rate for resistant organisms) AMR Prediction Specificity ≥ 80% (minimize alert fatigue) Time-to-Risk-Score < 6 hours post-admission data ingestion EHR Integration Uptime ≥ 99.5% availability (SLA) Alert Acknowledgement Rate ≥ 70% of high-risk alerts acted upon within 4 hours False Positive Rate < 20% to prevent alarm fatigue Model Retraining Cycle Automated monthly retraining on new data 3. Functional Requirements — What the Product MUST Do The following table defines mandatory functional requirements for ResisTrack v1.0. 'MUST' denotes critical requirements; 'SHOULD' denotes high-priority enhancements. 3.1 Data Ingestion & Integration ID Requirement Priority Type FR-01 MUST ingest patient EHR data via SMART on FHIR R4 from Epic and Cerner systems MUST Integration FR-02 MUST support HL7 v2 to FHIR R4 transformation via Mirth Connect for legacy hospital systems MUST Integration FR-03 MUST ingest structured lab results (CBC, CMP, cultures, blood cultures, urinalysis) in real-time MUST Data FR-04 MUST ingest vital signs streams (HR, BP, temp, SpO2, RR) from clinical monitoring systems MUST Data FR-05 MUST ingest prior antibiotic prescription history from pharmacy systems (LIS/RIS) MUST Data FR-06 MUST ingest unstructured clinical notes (nursing, physician, discharge summaries) for NLP processing MUST NLP FR-07 SHOULD ingest radiology reports and imaging metadata as supplementary risk signals SHOULD Data FR-08 MUST support TLS 1.3 encryption and mutual authentication for all data in transit MUST Security 3.2 AI/ML Risk Prediction Engine ID Requirement Priority Type FR-09 MUST generate an AMR Risk Score (0–100) per patient within 6 hours of sufficient data availability MUST ML FR-10 MUST classify patients into risk tiers: Low, Medium, High, Critical MUST ML FR-11 MUST predict resistance likelihood per antibiotic class (e.g., carbapenem, fluoroquinolone, beta-lactam) MUST ML FR-12 MUST use XGBoost for structured tabular risk scoring on EHR features MUST ML FR-13 MUST use PyTorch CNN/RNN for temporal vital and lab trend pattern recognition MUST ML FR-14 MUST use ClinicalBERT / BioBERT (via HuggingFace) for NLP extraction from clinical notes MUST NLP FR-15 MUST provide SHAP-based explainability output identifying top contributing risk factors per patient MUST Explainability FR-16 MUST support automated monthly model retraining pipelines on newly ingested hospital data via AWS SageMaker MUST MLOps FR-17 SHOULD detect hospital-wide MDRO outbreak clusters and surface trend alerts to infection control SHOULD Analytics 3.3 Clinical Decision Support & Alerts ID Requirement Priority Type FR-18 MUST generate actionable antibiotic stewardship recommendations alongside each risk score MUST CDS FR-19 MUST surface alerts within the existing EHR workflow via CDS Hooks (no separate login required) MUST Integration FR-20 MUST allow clinicians to acknowledge, override, or escalate alerts with a reason code MUST UX FR-21 MUST notify pharmacy teams of high-risk patients for prospective antibiotic review MUST Notification FR-22 MUST notify infection control officers when Critical-tier patients are identified MUST Notification FR-23 SHOULD provide antibiogram-aware recommendations using hospital-specific resistance patterns SHOULD CDS 3.4 Data Storage & Security ID Requirement Priority Type FR-24 MUST store all FHIR R4 patient records in AWS HealthLake with PHI encryption at rest (AES-256) MUST Security FR-25 MUST maintain audit logs for all data access events in AWS RDS (PostgreSQL) MUST Compliance FR-26 MUST implement role-based access control (RBAC) via AWS IAM for all platform users MUST Security FR-27 MUST implement OAuth 2.0 authorization for all SMART on FHIR app launches MUST Security FR-28 MUST be HIPAA-compliant in all data handling, storage, and transmission practices MUST Compliance FR-29 SHOULD maintain a 7-year data retention policy with automated archiving to S3 Glacier SHOULD Compliance 3.5 Dashboards & Reporting ID Requirement Priority Type FR-30 MUST provide a web-based clinical dashboard showing patient AMR risk scores by ward/unit MUST UI FR-31 MUST display infection trend analytics at the hospital, unit, and patient level MUST Analytics FR-32 MUST generate automated weekly AMR stewardship reports exportable as PDF/CSV MUST Reporting FR-33 SHOULD provide a pharmacy-specific view for antibiotic utilization review SHOULD UI FR-34 SHOULD provide an executive dashboard with financial impact metrics (LOS savings, penalty avoidance) SHOULD UI 4. Constraints — What the Product MUST NOT Do The following define hard constraints and prohibited behaviors for ResisTrack to ensure safety, compliance, and trust: ID Requirement Priority Type CN-01 MUST NOT replace clinical judgment — all outputs are decision support tools, not autonomous treatment orders MUST Safety CN-02 MUST NOT issue antibiotic prescriptions or modify orders directly in the EHR; recommendations only MUST Safety CN-03 MUST NOT store or process PHI outside of HIPAA-compliant AWS infrastructure (no external API calls with patient data) MUST Compliance CN-04 MUST NOT allow any user role to access patient data outside their authorized department scope (RBAC enforced) MUST Security CN-05 MUST NOT use model versions that have not passed clinical validation on ≥1,000 patient records before deployment MUST Safety CN-06 MUST NOT serve predictions with a confidence score below 0.60 without a low-confidence disclosure flag to the clinician MUST Safety CN-07 MUST NOT log or expose patient identifiers in system monitoring tools (CloudWatch, logs) — use de-identified tokens MUST Privacy CN-08 MUST NOT train or fine-tune models on data from hospitals that have not provided a signed BAA and data sharing agreement MUST Legal CN-09 MUST NOT send PHI in notification payloads (email, SMS alerts) — notifications must contain only de-identified risk identifiers MUST Privacy CN-10 MUST NOT deploy model updates without automated regression testing against a held-out validation dataset MUST MLOps CN-11 MUST NOT allow public internet access to internal patient data APIs — all APIs must be VPC-internal only MUST Security CN-12 SHOULD NOT generate generic alerts without patient-specific evidence — all alerts must reference specific contributing factors SHOULD UX 5. User Personas & Access Roles Attending Physician Views AMR risk scores in EHR workflow via CDS Hooks. Acknowledges/overrides recommendations. Read-only access to patient-level dashboard. Infectious Disease (ID) Specialist Full access to AMR risk scores, trend analytics, and SHAP explainability panel. Can annotate cases for model feedback. Clinical Pharmacist Pharmacy dashboard access. Reviews antibiotic utilization, high-risk patient list. Can flag cases for stewardship intervention. Infection Control Officer Hospital-wide outbreak trend dashboard. Critical-tier patient alerts. Weekly stewardship report generation. Hospital Administrator Executive dashboard only. Financial impact metrics, LOS trends, CMS penalty avoidance analytics. No PHI access. IT/Integration Admin Manages FHIR connection configuration, EHR system credentials, and RBAC role assignments. No patient data access. 6. Non-Functional Requirements 6.1 Performance AMR risk score generation latency: < 2 seconds for synchronous CDS Hook queries Batch scoring pipeline (nightly full census): < 30 minutes for up to 1,000 active patients API response time (p95): < 500ms for dashboard data queries 6.2 Scalability Cloud-native AWS architecture must support elastic scaling from 50 to 10,000 concurrent patients Model inference must scale horizontally via SageMaker auto-scaling endpoints Data pipeline must handle HL7 message rates up to 10,000 messages/hour per hospital 6.3 Reliability & Availability Platform uptime SLA: ≥ 99.5% (excluding planned maintenance windows) Graceful degradation: If ML inference is unavailable, the system must fall back to rule-based risk flagging All prediction outputs must be cached for ≥ 24 hours to ensure clinician access during outages 6.4 Regulatory Compliance HIPAA Security Rule: Full compliance for all PHI handling FDA PCCP Framework: Predetermined Change Control Plan documentation required for ML model updates CMS HAC Reduction Program: Platform outputs must be auditable for hospital quality reporting HL7 FHIR R4: Full conformance for all patient data interfaces 7. Out of Scope (v1.0) Direct integration with automated pharmacy dispensing systems (v2.0 roadmap) Patient-facing mobile application Genomic / whole genome sequencing data ingestion Veterinary or community health (non-hospital) settings Real-time surgical prophylaxis decision support Integration with LIS systems beyond Epic/Cerner (phased per customer) 8. Assumptions & Dependencies EHR Access Target hospitals use Epic or Cerner with SMART on FHIR R4 enabled Data Quality Hospitals maintain structured lab result data with >85% completeness Network Hospital systems can establish VPN/Direct Connect to AWS VPC BAA All hospital partners will sign a Business Associate Agreement before data onboarding Clinical Validation Pilot validation dataset of ≥1,000 patients available from a partner hospital Regulatory MVP operates as a Clinical Decision Support tool (not FDA Class II medical device) to expedite launch — End of Document —

--- Tech Arch ---
ResisTrack Technical Architecture Document AI-Powered AMR Risk Prediction Platform — System Design v1.0 1. Architecture Overview ResisTrack is built on a cloud-native, microservices-based architecture hosted on AWS. The system is organized into five principal layers: (1) Data Ingestion & Integration, (2) Data Storage & Management, (3) AI/ML Inference Engine, (4) Clinical Decision Support (CDS) Layer, and (5) Presentation & EHR Interface Layer. All inter-service communication occurs within a private AWS VPC, with external hospital connectivity via VPN or AWS Direct Connect. The architecture follows a hub-and-spoke topology: hospital systems (EHR, LIS, RIS) feed into a centralized Data Gateway, which normalizes and routes data to the AWS cloud platform for AI inference and CDS output, then surfaces results back into clinician workflows via SMART on FHIR and CDS Hooks — without requiring clinicians to leave the EHR. 2. Full Technology Stack Layer Component Technology / Tool Purpose Ingestion HL7 v2 → FHIR Transformer Mirth Connect Transforms legacy HL7 v2 lab/ADT messages to FHIR R4 resources Ingestion FHIR API Gateway AWS API Gateway + Lambda Validates and routes inbound FHIR R4 bundles; enforces authentication Ingestion EHR Integration Protocol SMART on FHIR R4 / CDS Hooks / HL7 v2 Enables app launch and CDS from Epic/Cerner without custom EHR code Ingestion Data Transport Security TLS 1.3 + Mutual Authentication Encrypts all data in transit between hospital and cloud Ingestion Hospital Connectivity AWS VPN / Direct Connect Private network tunnel between hospital DMZ and AWS VPC Storage FHIR Data Store AWS HealthLake (FHIR R4) Managed HIPAA-eligible FHIR datastore for patient records Storage Relational DB / Audit Logs Amazon RDS (PostgreSQL) Stores model outputs, alert history, user actions, audit trails Storage Object Storage Amazon S3 Raw data lake for unstructured notes, model artifacts, reports Storage Data Encryption at Rest AES-256 (AWS KMS) All PHI encrypted at rest across HealthLake, RDS, and S3 ML / AI Model Training & Deployment AWS SageMaker Managed training pipelines, model registry, and inference endpoints ML / AI Structured Risk Scoring XGBoost (Python) Gradient-boosted model on tabular EHR features (labs, vitals, Rx history) ML / AI Temporal Pattern Recognition PyTorch (CNN + RNN/LSTM) Learns time-series patterns in lab trends and vital sign trajectories ML / AI NLP — Clinical Notes ClinicalBERT / BioBERT (HuggingFace) Extracts AMR risk signals from unstructured physician/nursing notes ML / AI Explainability SHAP (SHapley Values) Per-patient risk factor attribution for clinician transparency ML / AI ML Framework Python 3.11, scikit-learn, pandas, numpy Data preprocessing, feature engineering, pipeline orchestration Security Identity & Access Management AWS IAM (RBAC) Fine-grained role-based access control for all platform resources Security SMART App Authorization OAuth 2.0 / OpenID Connect Secure EHR-delegated authorization for SMART app launches Security Network Isolation AWS VPC, Security Groups, NACLs No public internet exposure of patient data APIs Presentation CDS Integration CDS Hooks Injects AMR risk cards directly into EHR clinician workflows Presentation Clinical Web Dashboard React.js + AWS CloudFront Ward-level and patient-level AMR risk visualization portal Presentation Reporting Engine Python (ReportLab) + S3 Generates automated PDF/CSV stewardship reports Infrastructure Compute AWS Lambda + ECS Fargate Serverless event-driven functions and containerized microservices Infrastructure Container Orchestration Amazon ECS (Fargate) Runs inference microservices without server management Infrastructure CI/CD Pipeline AWS CodePipeline + CodeBuild Automated build, test, and deployment pipelines Infrastructure Monitoring & Alerting Amazon CloudWatch + SNS System health monitoring; de-identified operational alerts Infrastructure Infrastructure as Code AWS CDK (TypeScript) Reproducible, version-controlled infrastructure provisioning 3. Architectural Layers — Detailed Design 3.1 Layer 1: Data Ingestion & Integration Hospital systems (EHR, Laboratory Information System, Radiology Information System) transmit data to a secure Data Gateway Aggregation Layer via HL7 v2 ADT, ORU, RDE messages. The Mirth Connect integration engine transforms these messages to FHIR R4 resources (Patient, Observation, MedicationRequest, Condition, Encounter) and packages them as FHIR Bundles. Bundles are transmitted over a TLS 1.3-encrypted channel with mutual certificate authentication to the AWS VPC via VPN or Direct Connect. Inside the VPC, an API Gateway endpoint validates the FHIR Bundle schema and invokes a Lambda function for data validation, de-duplication, and HealthLake ingestion. 3.2 Layer 2: Data Storage & Management AWS HealthLake (FHIR R4 native) serves as the primary patient data store, supporting FHIR search queries by patient ID, encounter, observation code, and date range. All PHI is encrypted at rest with AES-256 via AWS KMS with customer-managed keys. Amazon RDS (PostgreSQL) stores: model inference results, alert records, user acknowledgement events, and all audit log entries. S3 buckets store raw clinical note documents, trained model artifacts (.pkl, .pt files), and generated PDF reports. Data access is exclusively through IAM role policies — no public endpoints. 3.3 Layer 3: AI/ML Inference Engine The inference engine is hosted on AWS SageMaker and operates in two modes: (a) real-time synchronous inference triggered by CDS Hooks on patient admission events, and (b) scheduled batch inference processing the full active census nightly. Feature Engineering Pipeline Structured features: 47 tabular features extracted from FHIR Observations, MedicationRequests, and Conditions — including WBC trajectory (7-day), CRP trend, prior beta-lactam exposure count, ICU admission flag, age, Charlson Comorbidity Index Temporal features: 72-hour rolling windows of lab values and vitals encoded as time-series tensors for the RNN/LSTM component NLP features: ClinicalBERT embeddings of the most recent 3 clinical notes, with AMR-relevant named entity recognition (organism mentions, resistance keywords, isolation status) Model Ensemble Architecture XGBoost Model: Produces primary AMR Risk Score (0–100) from tabular features. Trained on structured EHR data from MIMIC-IV and partner hospital datasets. PyTorch LSTM: Processes 72-hour vital/lab time series. Output is a trend-risk vector fed as additional features into XGBoost. ClinicalBERT: Produces a 768-dimension clinical note embedding. Compressed to 32-dimension risk vector via fine-tuned classification head. Ensemble: Weighted average of XGBoost score, LSTM risk vector, and ClinicalBERT risk vector. Final score calibrated via Platt scaling for probability output. SHAP Explainer: TreeExplainer applied to final XGBoost predictions. Top-5 contributing features surfaced per patient. 3.4 Layer 4: Clinical Decision Support Layer CDS Hooks are registered with Epic/Cerner to fire on: patient-view (admission), order-sign (antibiotic orders), and encounter-discharge events. On trigger, the CDS Hook service queries the SageMaker endpoint synchronously and returns a FHIR CDS Card within 2 seconds containing: AMR Risk Score and Risk Tier (Low / Medium / High / Critical) Top 3 SHAP-explained contributing factors in plain language Recommended antibiotic stewardship action (e.g., 'Broaden coverage — consider carbapenem-resistant organism') Link to full ResisTrack patient detail view for deeper exploration 3.5 Layer 5: Presentation & EHR Interface The React.js web dashboard is served via CloudFront and accessible to authorized users via SMART launch or direct login (OAuth 2.0). It provides ward-level heatmaps of AMR risk distribution, individual patient risk timelines, infection trend analytics, and stewardship report generation. Role-based views ensure each user type (physician, pharmacist, infection control, admin) sees only their authorized scope. 4. Key Architectural Decisions Component Technology Chosen Alternatives Considered Justification FHIR Store AWS HealthLake Azure Health Data Services, on-premise HAPI FHIR Native HIPAA-eligible managed service, eliminates FHIR server management overhead, native S3 integration for ML pipelines ML Orchestration AWS SageMaker Azure ML, GCP Vertex AI, self-hosted MLflow Tight AWS ecosystem integration, managed training pipelines, auto-scaling inference endpoints, built-in model registry NLP Model ClinicalBERT / BioBERT GPT-4 API, Med-PaLM 2, custom LSTM NER Pre-trained on clinical text corpus (MIMIC-III), no PHI sent to external API, reproducible fine-tuning, HuggingFace ecosystem support EHR Integration SMART on FHIR + CDS Hooks Epic App Orchard custom build, Direct Messaging, proprietary API Vendor-neutral open standard; works across Epic, Cerner, and any SMART-compliant EHR without custom code per vendor Compute ECS Fargate + Lambda EC2 self-managed, Kubernetes (EKS) Serverless/containers eliminate server management; Fargate provides resource isolation per service; Lambda for event-driven ingestion Risk Scoring Model XGBoost + LSTM Ensemble Logistic Regression only, Random Forest, GPT-4 few-shot XGBoost: interpretable, fast inference, proven in clinical risk models; LSTM: captures temporal patterns missed by tabular models; ensemble outperforms single-model approaches in pilot evaluation 5. Security Architecture 5.1 Defense-in-Depth Layers Network Layer: All resources in private VPC subnets. Hospital-to-cloud connectivity via encrypted VPN/Direct Connect only. No patient API exposed to public internet. Transport Layer: TLS 1.3 with mutual certificate authentication for all hospital data feeds. HTTPS enforced for all client-to-cloud communications. Application Layer: OAuth 2.0 / SMART on FHIR authorization for all EHR app launches. CDS Hooks JWT token validation on every request. Data Layer: AES-256 encryption at rest via AWS KMS. Separate KMS keys per hospital tenant for isolation. PHI de-identified in all logs and monitoring systems. Identity Layer: AWS IAM RBAC with least-privilege policies. MFA required for all platform admin accounts. Automated IAM access reviews quarterly. 5.2 HIPAA Compliance Controls All AWS services used are HIPAA-eligible and covered under AWS Business Associate Agreement (BAA) Audit logging enabled for all data access via CloudTrail and RDS audit logs — retained for 7 years Incident response runbook defined for PHI breach scenarios with 60-minute detection-to-notification SLA 6. Scalability & Performance Design SageMaker endpoints: Auto-scaling policy scales inference instances from 1 to 20 based on invocation rate and latency metrics API Gateway + Lambda: Concurrent execution limits set per hospital tenant to prevent noisy-neighbor effects HealthLake: Horizontally scalable managed service; supports up to millions of FHIR resources per tenant Database: RDS PostgreSQL with read replicas for dashboard query load; writes to primary only Async processing: High-volume HL7 message ingestion uses SQS queues with dead-letter queues for fault tolerance Multi-tenant isolation: Each hospital tenant has dedicated IAM role, KMS key, HealthLake datastore, and S3 prefix — End of Document —
